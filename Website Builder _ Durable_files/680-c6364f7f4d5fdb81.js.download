(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{90769:function(e,n,t){"use strict";t.d(n,{I:function(){return ee}});var a=t(47568),s=t(26042),i=t(69396),l=t(10253),o=t(70655),r=t(85893),c=t(67294),u=t(11163),d=t(22140),m=t(25675),h=t.n(m),g=t(16494),f=t(33303),p=function(e){var n=e.children,t=e.variant;return(0,r.jsx)("div",{className:(0,f.AK)("w-full flex items-center justify-between gap-4 p-6 relative bg-white shadow lg:shadow-none","builder"===t&&"z-50 !shadow"),children:n})},b=function(e){var n=e.websiteBuilt,t=e.handleBack,a=e.buildStep,s=e.totalBuildSteps,i=e.previewWebsite,l=e.handleRebuild,o=e.setOpenSignUp,c=e.allowedFullRegenerate;return(0,r.jsxs)(p,{variant:"builder",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,r.jsx)("button",{className:"link",onClick:t,children:(0,r.jsx)(d.Z,{icon:"ChevronLeftIcon",className:"w-5 h-5 text-gray-500"})}),(0,r.jsx)("div",{className:"inline-flex items-center gap-2",children:(0,r.jsx)("div",{className:"flex-shrink-0 relative w-8 h-6",children:(0,r.jsx)(h(),{unoptimized:!0,src:"/images/durable-icon-primary.svg",alt:"Durable checking",layout:"fill"})})})]}),a<=s&&(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsx)("span",{children:"Building your website"}),(0,r.jsx)(g.Z,{text:""})]}),a>s&&!i&&(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsx)("span",{className:"text-green-600",children:"Done"}),(0,r.jsx)(d.Z,{icon:"CheckIcon",className:"w-5 h-5 text-green-600"})]}),a>s&&i&&!n&&(0,r.jsxs)("div",{className:"flex items-center gap-3 -my-4",children:[(0,r.jsxs)("button",{className:"light gap-2 !px-2.5 lg:!px-4",onClick:function(){c?l():o(!0)},children:[(0,r.jsx)("span",{className:"hidden md:inline-block",children:"Regenerate"}),(0,r.jsx)(d.Z,{icon:"BoltIcon",className:"w-4 h-4"})]}),(0,r.jsx)("button",{onClick:function(){return o(!0)},className:"primary",children:"Customize"})]})]})},x=t(49155),v=t.n(x),y=t(14218),k=t(89677),w=t(20033),j=t(68511),N=t(46665),C=t(15716),Z=t(16351),S=t(295),R=t(49096),I=t(48609),_=t(27137),B=t(83476);function q(e){var n=e.children,t=e.block,a=e.generating,s=e.onRegenerate,i=(0,c.useState)(!1),l=i[0],o=i[1],u=(0,f.ac)("(max-width: 767px)");return(0,r.jsxs)("div",{className:"relative",onClick:function(){return u&&o((function(e){return!e}))},children:[(0,r.jsxs)("div",{className:(0,f.AK)("flex flex-col items-center justify-center gap-4 absolute z-90 bg-black bg-opacity-50 w-full h-full border-2 border-indigo-500 opacity-0 transition-all",(null===t||void 0===t?void 0:t.generating)&&"opacity-100",!a&&!u&&"hover:opacity-100",u&&!l&&"pointer-events-none",u&&l&&"opacity-100"),children:[(null===t||void 0===t?void 0:t.generating)&&(0,r.jsx)(g.Z,{variant:"button",text:"Generating",className:"lg light !font-sans !text-sm !font-semibold !text-gray-700"}),!a&&(0,r.jsxs)("button",{className:"light gap-3 lg",disabled:a,onClick:function(){t.generating=!0,s()},children:[(0,r.jsx)(d.Z,{icon:"BoltIcon",className:"w-4 h-4 text-indigo-700"}),(0,r.jsx)("span",{className:"!font-sans text-sm font-semibold text-indigo-700",children:"Regenerate section"})]})]}),n]})}var W=function(e){var n,t=e.websiteBuilt,a=e.website,s=e.mainRef,i=e.page,l=e.generating,o=e.onRegenerate,c=(0,f.ac)("(min-width: 1280px)"),u=(null===a||void 0===a?void 0:a.header)||{WebsiteBlock:{type:"header"}},d=(null===a||void 0===a?void 0:a.footer)||{WebsiteBlock:{type:"footer"}},m=function(e){if(e)switch(e.WebsiteBlock.type){case"banner":return(0,r.jsx)(w.Z,{block:e,website:a});case"hero":return(0,r.jsx)(j.Z,{block:e,website:a});case"quote":return(0,r.jsx)(N.Z,{block:e,website:a});case"gallery":return(0,r.jsx)(C.Z,{block:e,website:a});case"image":return(0,r.jsx)(B.Z,{block:e,website:a});case"video":return(0,r.jsx)(Z.Z,{block:e,website:a});case"list":return(0,r.jsx)(S.Z,{block:e,website:a});case"text":return(0,r.jsx)(R.Z,{block:e,website:a});case"location":return(0,r.jsx)(I.Z,{block:e,website:a});case"contact":return(0,r.jsx)(_.Z,{block:e,website:a})}};return(0,r.jsxs)("main",{className:(0,f.AK)("group flex flex-col h-screen overflow-y-auto w-full scroll-smooth",!c&&"no-scrollbar"),style:(0,f.SV)(a),ref:s,children:[(0,r.jsx)(y.Z,{block:u,currentPage:null===i||void 0===i?void 0:i.id,website:a}),null===i||void 0===i||null===(n=i.blocks)||void 0===n?void 0:n.map((function(e,n){return t?m(e):(0,r.jsx)(q,{block:e,generating:l,onRegenerate:function(){return o(n)},children:m(e)},n)})),(0,r.jsx)(k.Z,{block:d,currentPage:null===i||void 0===i?void 0:i.id,website:a})]})},A=t(60728),L=(t(39828),t(51121)),E=t(68485),T=t(16682),V=t(33299),F=t(52077),O=t(34853),M=t(41664),P=t.n(M),U=t(80360),H=t(73292),G=t(10866),z=t(19435),K=["Unlimited regeneration","Website editing tools","Custom domain name","Stock images and icons","Website analytics","SEO tools","Website hosting","AI-powered promotions"];function D(e){var n=e.marsWebsiteId,t=e.location,l=e.open,m=e.setOpen,g=e.error,p=e.language,b=(0,f.ac)("(min-width: 768px)"),x=(0,c.useState)(!1),v=x[0],y=x[1],k=(0,c.useState)(""),w=k[0],j=k[1],N=(0,c.useState)(""),C=N[0],Z=N[1],S=(0,c.useState)("us"),R=S[0],I=S[1],_=(0,c.useState)(!0),B=_[0],q=_[1],W=(0,c.useState)(!1),A=W[0],M=W[1],D=(0,c.useState)(g||null),Y=D[0],J=D[1],$=((0,u.useRouter)(),(0,T.Z)().post),Q=(0,H.Z)(),X=Q.sendUserEvent,ee=Q.getAffiliateInfos,ne=c.createRef(),te=(0,G.zl)(),ae=function(){var e=(0,a.Z)((function(e){var t,a,i,l,r,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e?(ne.current.reset(),w&&(0,f.oH)(w)&&C&&A&&R?[3,1]:(q(!1),y(!1),[3,3])):(y(!1),[2]);case 1:return a=ee(),l=p||(null!==(i=null===(t=navigator.language)||void 0===t?void 0:t.substring(0,2))&&void 0!==i?i:"en"),[4,$("/user/mars-signup",(0,s.Z)({email:w,password:C,location:R,marsWebsiteId:n,captcha:e,phKey:(0,f.ej)("ph_uuid"),language:l},(null===a||void 0===a?void 0:a.id)&&{affiliate:a.id}),!1).catch(console.log)];case 2:(r=o.sent())&&!0===r.status?(c=r.content,sessionStorage.setItem("idBusiness",c._id),sessionStorage.setItem("businessName",c.name),te.identify((0,f.ej)("ph_uuid")),te.capture("sign_up",{affiliate:a,origin:"mars",method:"form"}),X("sign_up",{method:"email"}),X("trial_started",{currency:"USD",transactionId:null,value:0}),(0,V.signIn)("login-user",{email:w,password:C,callbackUrl:"/website/builder",redirect:!1}).then((function(e){X("login",{method:"email"}),te.capture("log_in",{origin:"mars",method:"form"}),e.ok&&200===e.status?window.top.location="durable.co"===window.location.host?"https://app.durable.co/website/builder":"".concat(window.location.protocol,"//").concat(window.location.host,"/website/builder"):y(!1)})).catch((function(e){y(!1)}))):(J(r.message),y(!1)),o.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),se=function(){var e=(0,a.Z)((function(){return(0,o.__generator)(this,(function(e){return y(!0),window.top.location=("durable.co"===window.location.host?"https://app.durable.co/website-builder/signup":"".concat(window.location.protocol,"//").concat(window.location.host,"/website-builder/signup"))+"?w=".concat(n,"&country=").concat(JSON.stringify(R)),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){A&&w&&(0,f.oH)(w)&&q(!0)}),[A]),(0,c.useEffect)((function(){l&&t&&I(f.hW.find((function(e){var n,a,s,i;return(null===(n=e.code)||void 0===n?void 0:n.toLowerCase())===(null===(a=t.countryCode)||void 0===a?void 0:a.toLowerCase())||(null===(s=e.name)||void 0===s?void 0:s.toLowerCase())===(null===(i=t.country)||void 0===i?void 0:i.toLowerCase())}))),l||y(!1)}),[l,t]),(0,r.jsx)(z.u,{title:"Sign up to customize your website",open:l,setOpen:m,children:(0,r.jsx)("div",{className:"flex md:max-w-4xl",children:(0,r.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row md:divide-x divide-y md:divide-y-0 gap-6",children:[(0,r.jsxs)("div",{className:"flex-1 md:w-1/2",children:[Y&&(0,r.jsx)("div",{className:"rounded-md w-full bg-yellow-50 p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(d.Z,{icon:"InformationCircleIcon",className:"h-5 w-5 text-yellow-800","aria-hidden":"true"})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:Y})})]})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsx)(U.Z,{label:"Country",inline:!b,hasFilter:!0,values:f.hW.map((function(e){return(0,i.Z)((0,s.Z)({},e),{id:e.code})})),value:R,onChange:function(e){return I(e)},error:!B&&!R&&"You must select your country"}),(0,r.jsx)("hr",{className:"!my-0"}),(0,r.jsxs)(F.Z,{className:"button light lg w-full",onClick:function(){return se()},loading:v,disabled:!R,children:[(0,r.jsx)("div",{className:"w-5 h-5 relative mr-4 flex-none",children:(0,r.jsx)(h(),{unoptimized:!0,src:"/images/google-logo.png",layout:"fill",alt:"Google"})}),"Sign up with Google"]}),(0,r.jsxs)("div",{className:"w-full flex gap-3 items-center justify-center",children:[(0,r.jsx)("hr",{className:"w-full !my-0"}),(0,r.jsx)("div",{className:"flex-1 whitespace-nowrap text-center text-gray-500",children:"Or continue with"}),(0,r.jsx)("hr",{className:"w-full !my-0"})]}),(0,r.jsx)(L.Z,{label:"Email",error:w&&!(0,f.oH)(w)||!w&&!B?"You must provide a valid email":"",name:"email",type:"email",value:w,onChange:function(e){q((0,f.oH)(e)),j(e)}}),(0,r.jsx)(E.Z,{label:"Password",value:C,minStrength:3,thresholdLength:7,required:!0,helperText:"Password needs to be at least 8 characters long",errorText:!C&&!B&&"You must provide a password",onChange:function(e){return Z(e)},onValid:function(e){return M(e)}}),(0,r.jsx)(F.Z,{type:"submit",className:"primary lg w-full",disabled:v||!B||!A,loading:v,onClick:function(){return y(!0),void ne.current.execute()},children:"Create your account"}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm text-center",children:['By clicking "Create your account" you agree to Durable\'s ',(0,r.jsx)(P(),{href:"https://durable.co/privacy-policy",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Privacy Policy"})})," and ",(0,r.jsx)(P(),{href:"https://durable.co/terms-of-service",children:(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link",children:"Terms of Service"})}),"."]})]}),(0,r.jsx)("div",{className:"invisible",children:(0,r.jsx)(O.Z,{ref:ne,size:"invisible",sitekey:"6Leu0w4eAAAAAN0DPcebVt2LMLmRMOIocTcPheC0",onChange:ae})})]})]}),(0,r.jsx)("div",{className:"flex-1 md:w-1/2 space-y-4 md:pl-6 pt-6 md:pt-0 text-gray-900",children:(0,r.jsx)("ul",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:K.map((function(e,n){return(0,r.jsxs)("li",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center bg-green-500 w-6 h-6 rounded-full",children:(0,r.jsx)(d.Z,{icon:"CheckSolidIcon",className:"text-white h-5 w-5"})}),(0,r.jsx)("span",{className:"font-semibold text-sm",children:e})]},"feature-".concat(n))}))})})]})})})}var Y=t(86067),J=t(83098),$=function(){return(0,r.jsxs)("div",{className:"h-full w-full bg-gray-50 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-10 container mx-auto p-6",children:[(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-40",classNameChild:"!h-10"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-10",classNameChild:"!h-10"})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-120",children:(0,r.jsxs)("div",{className:"container mx-auto z-10 my-12 lg:my-32 xl:my-40",children:[(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full md:w-2/3",classNameChild:"!h-40 mb-4"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full md:w-2/3",classNameChild:"!h-28 mb-6"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"mt-6 lg:mt-8 w-full md:w-40",classNameChild:"!h-16"})]})}),(0,r.jsxs)("div",{className:"container mx-auto py-12 lg:py-14 xl:py-20",children:[(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-40",classNameChild:"!h-10 mb-4 lg:mb-10"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-40"})]})]}),(0,r.jsx)("div",{className:"container mx-auto py-12 lg:py-14 xl:py-20",children:(0,r.jsxs)("div",{className:"max-w-5xl text-center mx-auto",children:[(0,r.jsx)(g.Z,{variant:"skeleton",className:"inline-block w-full",classNameChild:"!h-40 mb-4"}),(0,r.jsx)(g.Z,{variant:"skeleton",className:"inline-block w-40",classNameChild:"!h-10"})]})})]})},Q=function(e){var n=e.builderStepLoaderText;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black backdrop-blur-xs z-100 font-sans bg-opacity-20 flex flex-col items-center justify-center p-6",children:(0,r.jsx)("div",{className:"py-6 px-8 bg-white bg-opacity-95 rounded-lg shadow-lg",children:(0,r.jsx)(g.Z,{text:n})})})},X=function(e){var n=e.getInstance,t=e.setPreviewWebsite,a=e.websiteBuilt,s=(0,H.Z)().sendUserEvent,i=(0,G.zl)();return(0,c.useEffect)((function(){a||(s("ai_website_complete"),i.capture("website_created"))}),[]),(0,r.jsxs)("div",{className:"fixed inset-0 bg-black backdrop-blur-xs z-100 font-sans bg-opacity-20 flex flex-col items-center justify-center p-6",children:[(0,r.jsxs)("div",{className:"p-8 lg:px-12 bg-white bg-opacity-95 rounded-lg shadow-lg text-center",children:[(0,r.jsx)("p",{className:"text-h3 lg:text-h2 font-bold mb-6",children:"Your website is ready!"}),(0,r.jsx)("button",{className:"primary",onClick:function(){return t(!0)},children:"See it"})]}),(0,r.jsx)(v(),{refConfetti:n,style:{position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0}})]})},ee=function(e){var n=e.websiteBuilt,t=e.step,d=void 0===t?3:t,m=e.website,h=e.setWebsite,g=e.pictures,p=e.location,x=e.backLink,v=(0,l.Z)((0,Y.Z)("website.button",{}),2)[1],y=(0,c.useState)("Building..."),k=y[0],w=y[1],j=(0,c.useState)([]),N=j[0],C=j[1],Z=(0,c.useState)({}),S=Z[0],R=Z[1],I=(0,c.useState)(null),_=I[0],B=I[1],q=(0,c.useState)(7),L=q[0],E=q[1],V=(0,c.useState)(!1),F=V[0],O=V[1],M=(0,c.useState)(!1),P=(M[0],M[1]),U=(0,c.useState)([]),H=U[0],z=U[1],K=(0,c.useState)(null),ee=K[0],ne=K[1],te=(0,c.useState)(!1),ae=te[0],se=te[1],ie=(0,c.useState)(null),le=ie[0],oe=ie[1],re=(0,c.useState)({blocksRegeneratedCount:0,fullRegeneratedCount:0}),ce=re[0],ue=re[1],de=(0,c.useRef)(null),me=(0,c.useRef)(null),he=(0,c.useRef)(null),ge=(0,G.zl)(),fe=(0,u.useRouter)(),pe=(0,A.Z)(),be=pe.confirm,xe=pe.ConfirmDialog,ve=(0,T.Z)(),ye=ve.get,ke=ve.post,we=(0,J.Z)(m).generateBlock,je=fe.query,Ne=je.error,Ce=je.signup,Ze=je.v,Se=(0,c.useState)(!(!Ne&&!Ce)),Re=Se[0],Ie=Se[1],_e=function(){var e=(0,a.Z)((function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,ye("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&z(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=(0,a.Z)((function(){var e,n,t,a,s,i,l,r,c,u,d,m,h,g;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,ye("/website/get-fonts")];case 1:return(e=o.sent())&&!0===e.status&&e.content&&(n=e.content,t=[],(a=n.find((function(e){return"Roboto"===e.name})))&&(s=n.find((function(e){return"Poppins"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(s.name||a.name),head:a,body:s||a})),(a=n.find((function(e){return"Arvo"===e.name})))&&(i=n.find((function(e){return"Lato"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(i.name||a.name),head:a,body:i||a})),(a=n.find((function(e){return"Merriweather"===e.name})))&&(l=n.find((function(e){return"Mulish"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(l.name||a.name),head:a,body:l||a})),(a=n.find((function(e){return"Work Sans"===e.name})))&&(r=n.find((function(e){return"Open Sans"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(r.name||a.name),head:a,body:r||a})),(a=n.find((function(e){return"Oswald"===e.name})))&&(c=n.find((function(e){return"Quattrocento"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(c.name||a.name),head:a,body:c||a})),(a=n.find((function(e){return"Varela"===e.name})))&&(u=n.find((function(e){return"PT Sans"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(u.name||a.name),head:a,body:u||a})),(a=n.find((function(e){return"Ovo"===e.name})))&&(d=n.find((function(e){return"Quattrocento"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(d.name||a.name),head:a,body:d||a})),(a=n.find((function(e){return"Ubuntu"===e.name})))&&(m=n.find((function(e){return"Open Sans"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(m.name||a.name),head:a,body:m||a})),(a=n.find((function(e){return"Slabo 13px"===e.name})))&&(h=n.find((function(e){return"Lato"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(h.name||a.name),head:a,body:h||a})),(a=n.find((function(e){return"Rufina"===e.name})))&&(g=n.find((function(e){return"PT Serif"===e.name})),t.push({id:a._id,name:"".concat(a.name," + ").concat(g.name||a.name),head:a,body:g||a})),C(t)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=(0,a.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,Be()];case 1:return n.sent(),[4,_e()];case 2:return n.sent(),(0,f.Fs)("pages",[]),se(!1),e?(oe(e._id),R(e.page),h(e),B(L+1),O(!0),ne(e._id)):ne(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),We=[{id:"template0",header:{style:"left"},footer:{style:["split-right","split-left","stacked-left","simple-right"]},blocks:[{type:"banner",block:"banner",align:"left",background:{type:"color",color:"primaryColor"},button:{label:"Contact us",type:"url",link:"#"}},{type:"image",block:"image",fullWidth:!0},{type:"about-us",block:"text",align:"left",lighten:{color:"primaryColor",magnitude:50}},{type:"services",block:"list",quantity:3,headline:"Our Services",aspectRatio:"16:9",align:"left",showButton:!0},{type:"quote",block:"quote",quantity:"1-3",image:!1,lighten:{color:"primaryColor",magnitude:50}},{type:"gallery",block:"gallery",quantity:"5-6",headline:"",style:"carousel",aspectRatio:"16:9"},{type:"map",block:"location",style:"inline",theme:["streets","outdoors","satellite"],align:"left",lighten:{color:"primaryColor",magnitude:50}},{type:"contact",block:"contact",align:"right"}]},{id:"template1",header:{style:"left"},footer:{style:["split-right","split-left","stacked-left","simple-right"]},blocks:[{type:"banner",block:"banner",align:"left",background:{type:"color",color:"primaryColor"},button:{label:"Contact us",type:"url",link:"#"}},{type:"image",block:"image",fullWidth:!0},{type:"about-us",block:"text",align:"left",lighten:{color:"primaryColor",magnitude:50}},{type:"services",block:"list",quantity:3,headline:"Our Services",aspectRatio:"16:9",align:"left",showButton:!0},{type:"quote",block:"quote",quantity:"1-3",image:!1,lighten:{color:"primaryColor",magnitude:50}},{type:"gallery",block:"gallery",quantity:"5-6",headline:"",style:"carousel",aspectRatio:"16:9"},{type:"map",block:"location",style:"inline",theme:["streets","outdoors","satellite"],align:"left",lighten:{color:"primaryColor",magnitude:50}},{type:"contact",block:"contact",align:"right"}]},{id:"template2",header:{style:"center"},footer:{style:["stacked-center","simple-center"]},blocks:[{type:"banner",block:"banner",align:"center",background:{type:"image",overlay:{color:"darkTheme",amount:50}}},{type:"gallery",block:"gallery",quantity:5,headline:"Our Work",style:"grid",aspectRatio:"1:1",background:"primaryColor"},{type:"about-us",block:"text",align:"center",lighten:{color:"primaryColor",magnitude:70}},{type:"services",block:"list",quantity:3,headline:"Our Services",aspectRatio:"1:1",align:"center",lighten:{color:"primaryColor",magnitude:70}},{type:"quote",block:"quote",quantity:"1-3",image:!0,background:"primaryColor"},{type:"location",style:"background",align:"right",background:"darkTheme"},{type:"contact",block:"contact",align:"left",lighten:{color:"primaryColor",magnitude:70}}]},{id:"template3",header:{style:"full-center"},footer:{style:["stacked-center","simple-center"]},blocks:[{type:"banner",block:"banner",align:"center",background:{type:"image",overlay:{color:"primaryColor",amount:50}},button:{label:"Learn more",type:"url",link:"#"}},{type:"service",block:"hero",showHeadline:!0,image:{align:"left",aspectRatio:"16:9"}},{type:"about-us",block:"hero",showHeadline:!1,image:{align:"right",aspectRatio:"16:9"}},{type:"services",block:"list",quantity:3,headline:"Our Services",aspectRatio:"1:1",align:"center",background:"tertiaryColor"},{type:"quote",block:"quote",quantity:3,image:!0},{type:"image",block:"image",fullWidth:!0},{type:"contact",block:"contact",align:"right"},{type:"map",block:"location",style:"background",theme:["outdoors"],align:"left",background:"#FFFFFF"}]},{id:"template4",header:{style:"full-center"},footer:{style:["stacked-center","simple-center"]},blocks:[{type:"banner",block:"banner",align:"center",background:{type:"image",overlay:{color:"tertiaryColor",amount:50}},button:{label:"Learn more",type:"url",link:"#"}},{type:"about-us",block:"hero",showHeadline:!0,image:{align:"left",aspectRatio:"16:9"},button:{label:"Contact",type:"url",link:"#"}},{type:"services",block:"list",quantity:3,headline:"Our Services",aspectRatio:"1:1",align:"left",showButton:!0,lighten:{color:"primaryColor",magnitude:20}},{type:"quote",block:"quote",align:"left",background:"tertiaryColor"},{type:"gallery",block:"gallery",quantity:6,headline:"Our Clients",aspectRatio:"1:1",align:"left",style:"grid"},{type:"map",block:"location",style:"background",theme:["streets"],align:"left",background:"#FFFFFF"},{type:"contact",block:"contact",align:"right",lighten:{color:"primaryColor",magnitude:20}}]},{id:"template5",header:{style:"left",button:{label:"Call Us",type:"url",link:"#"}},footer:{style:["split-right","split-left","stacked-left","simple-right"]},blocks:[{type:"banner",block:"banner",align:"center",background:{type:"image",overlay:{color:"primaryColor",amount:70}},button:{label:"Contact",type:"url",link:"#"}},{type:"quote",block:"quote",align:"center",lighten:{color:"primaryColor",magnitude:70}},{type:"services",block:"list",quantity:3,headline:"Services",aspectRatio:"3:2",align:"center",showButton:!0,lighten:{color:"primaryColor",magnitude:50}},{type:"team",block:"hero",headline:"Meet the team",showHeadline:!0,image:{align:"right",aspectRatio:"3:2"},lighten:{color:"primaryColor",magnitude:70}},{type:"stats",block:"list",quantity:3,action:"business-stats",headline:!1,align:"center",showIcon:!0,showContent:!1,lighten:{color:"primaryColor",magnitude:70}},{type:"contact",block:"contact",align:"right",lighten:{color:"primaryColor",magnitude:50}},{type:"map",block:"location",style:"background",theme:["satellite"],align:"left",background:"primaryColor"}]}],Ae=function(){var e=(0,a.Z)((function(){var e,n,t,a,i,l,r,c,u,d,g,p,b,x,v,y,k,j,C,Z,S;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return c=["solid","solid","solid","solid","outline"],u=["left","left","center","full-center","full-center"],d=[0,8,8,8,8,8],g=["small","medium","large"],w("Picking a color palette..."),[4,ke("/ai/generate-public",{prompt:"mars-pick-colors",stream:!1,variant:"better",data:{vertical:null===(e=m.business)||void 0===e?void 0:e.vertical,quantity:3}})];case 1:return p=o.sent(),(b=p.content)||(b=["#CCCCCC","#4330C0","#333333"]),b[0]||(b[0]="#CCCCCC"),b[1]||(b[1]="#4330C0"),b[2]||(b[2]="#333333"),(x=(0,f.kd)(N))||(x=N[0]),v=Math.random()>.5,w("Choosing the best layout for your business..."),[4,ke("/ai/generate-public",{prompt:"mars-choose-template",stream:!1,variant:"better",data:{vertical:null===(n=m.business)||void 0===n?void 0:n.vertical}})];case 2:return y=o.sent(),k=y.content,(j=We.find((function(e){return e.id==="template".concat(k||0)})))&&E(j.blocks.length),C=(0,f.kd)(d),Z=C>0?(0,f.kd)(g):"no-rounded",S={template:j,showLogo:!1,logo:null,darkTheme:v,primaryColor:b[0],secondaryColor:b[1],tertiaryColor:b[2],cornerRadius:Z,social:[{type:"facebook",link:"https://facebook.com"},{type:"instagram",link:"instagram.com"},{type:"twitter",link:"https://twitter.com"}],button:{background:b[1],style:(0,f.kd)(c),cornerRadius:C},fonts:{head:x.head,body:x.body},header:{siteName:null===(t=m.business)||void 0===t?void 0:t.name,showLogo:!1,source:"branding",customLogo:null,logoDesktop:{height:80},logoMobile:{height:40},showSocial:!0,background:b[0],fullWidth:Math.random()>.5,sticky:Math.random()>.5,style:(null===j||void 0===j||null===(a=j.header)||void 0===a?void 0:a.style)||(0,f.kd)(u),button:null===j||void 0===j||null===(i=j.header)||void 0===i?void 0:i.button},footer:{showLogo:!0,businessName:null===(l=m.business)||void 0===l?void 0:l.name,showSocial:!0,background:v?"#111111":"#ffffff",button:null,style:(null===j||void 0===j||null===(r=j.footer)||void 0===r?void 0:r.style)?(0,f.kd)(j.footer.style):"split-right"}},["template2","template3","template4"].includes(null===j||void 0===j?void 0:j.id)?S.footer.background=S.header.background:"template5"===(null===j||void 0===j?void 0:j.id)?S.footer.background=(0,f.iH)(S.primaryColor,70):S.footer.background=S.tertiaryColor,h((function(e){return(0,s.Z)({},e,S)})),B(1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Le=function(e,n){"function"==typeof(null===he||void 0===he?void 0:he.current)&&(null===he||void 0===he||he.current((0,i.Z)((0,s.Z)({},n),{origin:{y:.7},particleCount:Math.floor(200*e)})))},Ee=function(){var e=(0,a.Z)((function(e,t,a,s){var i;return(0,o.__generator)(this,(function(l){switch(l.label){case 0:return n?[3,2]:(P(!0),[4,ke("/marketing/save-mars-website",{website:e,page:t,originalId:a,action:s}).catch((function(e){return console.log(e)}))]);case 1:return(i=l.sent())&&i.status&&i.content?(oe(i.content),P(!1),[2,i.content]):(f.Z9.error("Error creating a shareable link. Please try again."),P(!1),[2,null]);case 2:return[2,n._id];case 3:return[2]}}))}));return function(n,t,a,s){return e.apply(this,arguments)}}(),Te=function(){var e=(0,a.Z)((function(){var e,n,t,a,l,r,c,u,d,h,g,f,p,b,x,v,y,k,j,N,C;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(e=(null===S||void 0===S?void 0:S.blocks)||[],"string"===typeof(n=null===m||void 0===m?void 0:m.template)&&(n=We.find((function(e){return e.id===n}))),t=null===n||void 0===n?void 0:n.blocks[_-1],!n||!t)return[3,2];switch(t.type){case"banner":w("Generating a beautiful banner...");break;case"gallery":w("Creating a gallery...");break;case"image":w("Adding a beautiful picture...");break;case"quote":w("Writing a positive testimonial...");break;case"contact":w("Adding a lead capture form...");break;case"map":w("Adding a map...");break;case"about-us":w("Writing a paragraph about your business...");break;case"services":w("Adding some services...");break;case"service":w("Adding a service...");break;case"stats":w("Adding some stats...");break;case"team":w("Adding team members...")}return[4,we({type:t.type,WebsiteBlock:H.find((function(e){return e.type===(null!==(a=t.block)&&void 0!==a?a:t.type)})),idx:_},t)];case 1:return(l=o.sent()).skipped||(e[_-1]=l),R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),[3,33];case 2:switch(o.trys.push([2,32,,33]),_){case 1:return[3,3];case 2:return[3,5];case 3:return[3,11];case 4:return[3,14];case 5:return[3,23];case 6:return[3,26];case 7:return[3,28]}return[3,31];case 3:return w("Generating a beautiful banner..."),r=0,[4,we({type:"banner",WebsiteBlock:H.find((function(e){return"banner"===e.type})),idx:1})];case 4:return e[r]=o.sent(),R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),[3,31];case 5:return Math.random()>.3?Math.random()>.3?(w("Creating a gallery..."),c=1,[4,we({type:"gallery",WebsiteBlock:H.find((function(e){return"gallery"===e.type})),idx:2})]):[3,7]:[3,10];case 6:return e[c]=o.sent(),[3,9];case 7:return w("Adding a beautiful picture..."),u=1,[4,we({type:"image",WebsiteBlock:H.find((function(e){return"image"===e.type})),idx:2})];case 8:e[u]=o.sent(),o.label=9;case 9:R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),o.label=10;case 10:return[3,31];case 11:return Math.random()>.1?(w("Writing a positive testimonial..."),d=2,[4,we({type:"quote",WebsiteBlock:H.find((function(e){return"quote"===e.type})),idx:3})]):[3,13];case 12:e[d]=o.sent(),R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),o.label=13;case 13:return[3,31];case 14:return w("Adding some services..."),[4,ke("/ai/generate-public",{prompt:"mars-generate-services",stream:!1,data:{quantity:3,vertical:null===(h=m.business)||void 0===h?void 0:h.vertical,location:null===(g=m.business)||void 0===g?void 0:g.location,name:null===(f=m.business)||void 0===f?void 0:f.name,tone:"Professional"}})];case 15:if(p=o.sent(),b=(b=p.content).slice(0,3),!(Math.random()>.7))return[3,20];x=0,o.label=16;case 16:return x<b.length?(v=3+x,[4,we({type:"service",WebsiteBlock:H.find((function(e){return"hero"===e.type})),idx:5},{image:{align:x%2===0?"left":"right"}})]):[3,19];case 17:e[v]=o.sent(),o.label=18;case 18:return x++,[3,16];case 19:return[3,22];case 20:return y=3,[4,we({type:"services",WebsiteBlock:H.find((function(e){return"list"===e.type})),idx:5})];case 21:e[y]=o.sent(),e[4]=null,e[5]=null,o.label=22;case 22:return R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),[3,31];case 23:return Math.random()>.4?(w("Adding a map..."),k=6,[4,we({type:"map",WebsiteBlock:H.find((function(e){return"location"===e.type})),idx:5})]):[3,25];case 24:e[k]=o.sent(),R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),o.label=25;case 25:return[3,31];case 26:return w("Adding a lead capture form..."),j=7,[4,we({type:"contact",WebsiteBlock:H.find((function(e){return"contact"===e.type})),idx:6})];case 27:return e[j]=o.sent(),R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),[3,31];case 28:return Math.random()>.1?(w("Writing a paragraph about your business..."),N=8,[4,we({type:"about-us",WebsiteBlock:H.find((function(e){return"text"===e.type})),idx:7})]):[3,30];case 29:e[N]=o.sent(),R((function(n){return(0,i.Z)((0,s.Z)({},n),{blocks:e})})),o.label=30;case 30:return[3,31];case 31:return[3,33];case 32:return o.sent(),[3,33];case 33:return _<=L?(B(_+1),[3,36]):[3,34];case 34:return Le(.25,{spread:26,startVelocity:55}),Le(.2,{spread:60}),Le(.35,{spread:100,decay:.91,scalar:.8}),Le(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),Le(.1,{spread:120,startVelocity:45}),[4,Ee(m,S,le,"generate")];case 35:(C=o.sent())&&ne(C),o.label=36;case 36:return[2]}}))}));return function(){return e.apply(this,arguments)}}();function Ve(){return(Ve=(0,a.Z)((function(){return(0,o.__generator)(this,(function(e){return ge.identify((0,f.ej)("ph_uuid")),ge.capture("mars_rebuild",{vertical:m.business.vertical}),h((function(e){return(0,i.Z)((0,s.Z)({},e),{business:(0,i.Z)((0,s.Z)({},e.business),{name:m.business.name,location:m.business.location,vertical:m.business.vertical,language:m.business.language})})})),ue((function(e){return(0,i.Z)((0,s.Z)({},e),{fullRegeneratedCount:e.fullRegeneratedCount+1})})),[2]}))}))).apply(this,arguments)}var Fe=function(){var e=(0,a.Z)((function(e){var n,t,a,l,r,c,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return ce.blocksRegeneratedCount<2?(se(!0),l=null===(n=m.template)||void 0===n?void 0:n.blocks[e],r=(0,f.p$)(S),[4,we(r.blocks[e],l)]):[3,3];case 1:return delete(c=o.sent()).generating,r.blocks[e]=c,r.preventScroll=!0,R(r),se(!1),[4,Ee(m,r,le,"regenerate-block:"+(null===c||void 0===c||null===(t=c.WebsiteBlock)||void 0===t?void 0:t.type))];case 2:return(u=o.sent())&&ne(u),ge.identify((0,f.ej)("ph_uuid")),ge.capture("mars_regen",{blockType:(null===c||void 0===c||null===(a=c.WebsiteBlock)||void 0===a?void 0:a.type)||"Unknown"}),ue((function(e){return(0,i.Z)((0,s.Z)({},e),{blocksRegeneratedCount:e.blocksRegeneratedCount+1})})),[3,4];case 3:delete S.blocks[e].generating,Ie(!0),o.label=4;case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){qe(n)}),[n]),(0,c.useEffect)((function(){if(!F){var e=setInterval((function(){_<=L&&(null===me||void 0===me?void 0:me.current)&&me.current.scrollTo(0,999999999)}),1e3);return function(){clearInterval(e)}}me.current.scrollTo(0,0)}),[_,me,F]),(0,c.useEffect)((function(){(null===g||void 0===g?void 0:g.length)&&(null===H||void 0===H?void 0:H.length)&&m.business&&m.business.vertical&&m.business.location&&m.business.name&&3===d&&(R({}),h((function(e){return{business:e.business}})),B(null),O(!1),ne(null),Ie(!1),Ae())}),[null===g||void 0===g?void 0:g.length,null===H||void 0===H?void 0:H.length,m.business,d,h]),(0,c.useEffect)((function(){if(m){var e={background:m.secondaryColor,cornerRadius:8,style:"solid"};m.button?v((0,s.Z)({},e,m.button)):v(e)}}),[m]),(0,c.useEffect)((function(){(null===me||void 0===me?void 0:me.current)&&!(null===S||void 0===S?void 0:S.preventScroll)&&me.current.scrollTo(0,999999999)}),[S]),(0,c.useEffect)((function(){_&&Te(),(null===me||void 0===me?void 0:me.current)&&me.current.scrollTo(0,999999999)}),[_]),(0,c.useEffect)((function(){return F&&(ce.blocksRegeneratedCount>0||ce.fullRegeneratedCount>0)&&(de.current&&clearTimeout(de.current),de.current=setTimeout((function(){Ie(!0)}),15e3)),function(){de.current&&clearTimeout(de.current)}}),[F,ce]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[(0,r.jsx)(b,{websiteBuilt:n,handleBack:function(){n?window.location="/website-builder":be("Exit website builder","Are you sure you want to go back? All content, images and styles will be lost.",(function(){return window.location=null!==x&&void 0!==x?x:"/website-builder?skipIntro=true&business=".concat(m.business.vertical,"&name=").concat(m.business.name).concat(Ze?"&v=".concat(Ze):"")}),null)},buildStep:_,totalBuildSteps:L,previewWebsite:F,handleRebuild:function(){return Ve.apply(this,arguments)},setOpenSignUp:Ie,allowedFullRegenerate:ce.fullRegeneratedCount<1}),S&&m?(0,r.jsxs)(r.Fragment,{children:[_<=L&&(0,r.jsx)(Q,{builderStepLoaderText:k}),_>L&&!F&&(0,r.jsx)(X,{getInstance:function(e){he.current=e},setPreviewWebsite:O,websiteBuilt:n}),(0,r.jsx)(W,{websiteBuilt:n,website:m,mainRef:me,page:S,generating:ae,onRegenerate:Fe,allowedBlockRegenerate:ce.blocksRegeneratedCount<2})]}):(0,r.jsx)($,{}),(0,r.jsx)(xe,{attention:!0,confirmText:"Exit website builder"}),(0,r.jsx)(D,{marsWebsiteId:ee,location:p,open:Re,setOpen:Ie,error:Ne})]})}},30680:function(e,n,t){"use strict";t.d(n,{p:function(){return E}});var a=t(85893),s=t(67294),i=t(22140),l=t(51121),o=t(16494),r=t(11163),c=t(33303),u=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,l=e.location,r=(0,s.useState)(0),c=r[0],u=r[1];return n.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:n.slice(c,c+3).map((function(e){return(0,a.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{className:"link sm flex gap-1 mt-4 items-center",onClick:function(){return u((function(e){var t=e+3;return t>=n.length?0:t}))},children:["See more ",(0,a.jsx)(i.Z,{icon:"RefreshIcon",className:"w-4 h-4"})]})}),(0,a.jsx)(d,{chooseVertical:t})]}):(0,a.jsx)(o.Z,{text:"Suggesting verticals in ".concat(l.inline,"...")})},d=function(e){var n=e.chooseVertical,t=(0,s.useState)(""),i=t[0],o=t[1],c=(0,r.useRouter)().query.business;return(0,s.useEffect)((function(){c&&o(c)}),[c]),(0,a.jsxs)("div",{className:"flex item-center gap-4",children:[(0,a.jsx)(l.Z,{className:"w-full",placeholder:"Have an idea? Enter it here",value:i,onChange:function(e){return o(e)}}),(0,a.jsx)("button",{className:"light",disabled:!i,onClick:function(){return n({name:i,aiTerm:i,queryTerm:i})},children:"Next"})]})},m=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-h5 font-bold mb-6",children:"Getting your location..."}),(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-2/3",classNameChild:"!h-12"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-12"})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,a.jsxs)("div",{className:"flex item-center gap-4",children:[(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]})]})]})},h=function(e){var n=e.suggestedNames,t=e.chooseName,l=(0,s.useState)(0),o=l[0],r=l[1];return(0,s.useEffect)((function(){r(0)}),[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex gap-2 flex-wrap mb-2",children:n.slice(o,o+3).map((function(e,n){return(0,a.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:e},n)}))}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{className:"link sm flex items-center gap-1 mt-4",onClick:function(){return r((function(e){var t=e+3;return t>=n.length?0:t}))},children:["See more ",(0,a.jsx)(i.Z,{icon:"RefreshIcon",className:"w-4 h-4"})]})})]})},g=function(e){var n=e.chooseName,t=(0,s.useState)(""),i=t[0],o=t[1],c=(0,r.useRouter)().query.name;return(0,s.useEffect)((function(){c&&o(c)}),[c]),(0,a.jsxs)("div",{className:"flex item-center gap-4",children:[(0,a.jsx)(l.Z,{className:"w-full",placeholder:"Have a name? Enter it here",value:i,onChange:function(e){return o(e)}}),(0,a.jsx)("button",{className:"secondary",disabled:!i,onClick:function(){return n(i)},children:"Next"})]})},f=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Generating really catchy business names..."}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(o.Z,{variant:"text",className:"w-[100px] !my-0"})}),(0,a.jsxs)("div",{className:"flex item-center gap-4",children:[(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-full",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]})]})},p=t(80360),b=t(52077),x=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,l=e.showSuggestions,o=e.toggleSuggestions,u=e.location,d=(0,s.useState)(null),m=d[0],h=d[1],g=(0,r.useRouter)().query.business;return(0,s.useEffect)((function(){g&&h({id:-1,name:g})}),[g]),(0,a.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-6 transition-all duration-400",l?"translate-y-1/2 opacity-0 pointer-events-none":"translate-y-0 opacity-100"),children:[(0,a.jsx)("h2",{className:"text-h2 font-bold",children:"What type of business are you building?"}),(0,a.jsxs)("div",{className:"flex item-center gap-4",children:[(0,a.jsx)(p.Z,{values:n,autocomplete:!0,showSuggestions:!0,allowUnlistedValues:!0,icon:"SearchIcon",value:m,className:"w-full",placeholder:"Enter a business type",onChange:h,showNoResults:!1,showSelectorIcon:!1,showTypingAsOption:!0}),(0,a.jsx)(b.Z,{className:"primary",disabled:!(null===m||void 0===m?void 0:m.name)||!(null===u||void 0===u?void 0:u.inline),onClick:function(){return t({name:m.name,aiTerm:m.aiTerm||m.name,queryTerm:m.queryTerm||m.name})},children:"Next"})]}),(0,a.jsxs)("p",{children:["Not sure? ",(0,a.jsxs)("button",{className:"link disabled:text-gray-400",onClick:o,disabled:!u,children:["See some suggestions ",(0,a.jsx)(i.Z,{icon:"LightBulbIcon",className:"inline w-5 h-5 mb-1"})]})]})]})},v=function(e){var n=e.suggestedVerticals,t=e.chooseVertical,l=e.location,r=e.showSuggestions,u=e.toggleSuggestions,d=(0,s.useState)(0),m=d[0],h=d[1];return(0,a.jsxs)("div",{className:(0,c.AK)("absolute flex flex-col gap-6 mb-6 transition-all duration-400",r?"translate-y-0 opacity-100":"translate-y-1/2 opacity-0 pointer-events-none"),children:[(0,a.jsx)("h2",{className:"text-h2 font-bold",children:"What type of business would you like to start?"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[n.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Here are some suggestions"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:n.slice(m,m+3).map((function(e){return(0,a.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]}):(0,a.jsx)(o.Z,{text:"Suggesting verticals".concat((null===l||void 0===l?void 0:l.inline)?" in ".concat(l.inline):"","...")}),(0,a.jsxs)("div",{className:"flex gap-5 mt-2",children:[(0,a.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:u,children:[(0,a.jsx)(i.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"})," Pick my own"]}),(0,a.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:function(){return h((function(e){var t=e+3;return t>=n.length?0:t}))},children:[(0,a.jsx)(i.Z,{icon:"RefreshIcon",className:"w-5 h-5"})," See more"]})]})]})]})},y=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Generating really catchy business names..."}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap mb-2",children:[(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"}),(0,a.jsx)(o.Z,{variant:"skeleton",className:"w-30",classNameChild:"!h-9"})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap mb-6",children:[(0,a.jsx)(o.Z,{variant:"text",className:"w-[100px] !my-0"}),(0,a.jsx)(o.Z,{variant:"text",className:"w-[100px] !my-0"})]})]})},k=function(e){var n=e.chooseName,t=e.showSuggestions,o=e.toggleSuggestions,u=(0,s.useState)(""),d=u[0],m=u[1],h=(0,r.useRouter)().query.name;return(0,s.useEffect)((function(){h&&m(h)}),[h]),(0,a.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-6 transition-all duration-400",t?"translate-y-1/2 opacity-0 pointer-events-none":"translate-y-0 opacity-100"),children:[(0,a.jsx)("h2",{className:"text-h2 font-bold",children:"What\u2019s the name of your business?"}),(0,a.jsxs)("div",{className:"flex item-center gap-4",children:[(0,a.jsx)(l.Z,{className:"w-full",placeholder:"Enter your business name",value:d,onChange:function(e){return m(e)}}),(0,a.jsx)(b.Z,{className:"primary",disabled:!d,onClick:function(){return n(d)},children:"Next"})]}),(0,a.jsxs)("p",{children:["Not sure? ",(0,a.jsxs)("span",{className:"link",onClick:o,children:["See some suggestions ",(0,a.jsx)(i.Z,{icon:"LightBulbIcon",className:"inline w-5 h-5 mb-1"})]})]})]})},w=function(e){var n=e.suggestedNames,t=e.chooseName,l=e.showSuggestions,o=e.toggleSuggestions,r=(0,s.useState)(0),u=r[0],d=r[1];return(0,s.useEffect)((function(){d(0)}),[n]),(0,a.jsx)("div",{className:(0,c.AK)("absolute flex flex-col gap-6 mb-6 transition-all duration-400",l?"translate-y-0 opacity-100":"translate-y-1/2 opacity-0 pointer-events-none"),children:(null===n||void 0===n?void 0:n.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-h2 font-bold",children:"What\u2019s the name of your business?"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{children:"Here are some suggestions"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:n.slice(u,u+3).map((function(e,n){return(0,a.jsx)("button",{onClick:function(){return t(e)},className:" button primary",children:e},n)}))}),(0,a.jsxs)("div",{className:"flex gap-5 mt-2",children:[(0,a.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:o,children:[(0,a.jsx)(i.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"})," Enter my own"]}),(0,a.jsxs)("button",{className:"link md flex gap-1 items-center",onClick:function(){return d((function(e){var t=e+3;return t>=n.length?0:t}))},children:[(0,a.jsx)(i.Z,{icon:"RefreshIcon",className:"w-5 h-5"})," See more"]})]})]})]}):(0,a.jsx)(y,{})})},j=t(47568),N=t(70655),C=t(50899),Z=t(50246),S=t(43291),R=t(68039),I=function(e){var n=e.children;return(0,a.jsx)("div",{className:"flex flex-col gap-4 max-w-lg bg-indigo-600",children:n})},_=function(e){var n=e.location,t=e.setIsOpenChangeLocation;return n?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"flex flex-wrap items-center gap-1 text-label text-indigo-200 font-medium",children:["It looks like you're in",(0,a.jsxs)("span",{className:"flex items-center cursor-pointer text-white whitespace-nowrap",onClick:function(){return t(!0)},children:[n.inline," ",(0,a.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-4 h-4 ml-1.5"})]})]})}):(0,a.jsx)("p",{className:"text-label font-medium text-white",children:"Getting your location..."})},B=function(e){var n=e.setOpen,t=e.location,l=e.onSuccess,o=e.setAskUserLocation,r=e.isMobile,u=e.isLoadingLocation,d=(0,s.useState)(null),m=d[0],h=d[1],g=(0,s.useRef)(!0);return(0,s.useEffect)((function(){return o(!0),function(){return o(!1)}}),[]),(0,s.useEffect)((function(){t&&!g.current&&h(t.inline||"".concat(t.city).concat(t.regionCode?", "+t.regionCode:t.region?", "+t.region:"")),g.current&&(g.current=!1)}),[t]),(0,a.jsxs)(a.Fragment,{children:[u?(0,a.jsx)("p",{className:"text-label font-medium text-white",children:"Getting your location..."}):(0,a.jsx)(A,{onBack:function(){return n(!1)}}),(0,a.jsxs)("div",{className:(0,c.AK)("flex gap-3",r?"flex-col":"flex-row"),children:[R.Z&&(0,a.jsx)(R.Z,{inlineAddress:m,onChange:function(e){return h(e)},placeholder:"Enter the business location",fullWidth:!0,icon:(0,a.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-4 h-4 text-gray-700 ml-2"}),disabled:u,darkBackground:!0,btnClassName:"!py-5"}),(0,a.jsxs)(b.Z,{className:"flex gap-1 secondary !bg-indigo-50 !font-medium !p-5",disabled:u||!m,onClick:function(){n(!1),l(m)},children:["Save ",(0,a.jsx)(i.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})]})},q=function(e){var n=e.chooseVertical,t=e.location,l=e.isMobile,o=(0,Z.Z)().data,r=(0,s.useState)(null),u=r[0],d=r[1];return(0,a.jsxs)("div",{className:(0,c.AK)("flex gap-3",l?"flex-col":"flex-row"),children:[(0,a.jsx)(p.Z,{values:o,autocomplete:!0,showSuggestions:!0,allowUnlistedValues:!0,value:u,fullWidth:!0,placeholder:"Enter a business",onChange:d,showNoResults:!1,showSelectorIcon:!1,darkBackground:!0,btnClassName:"!pl-6 !py-5",showTypingAsOption:!0}),u&&""!==(null===u||void 0===u?void 0:u.name)&&(0,a.jsxs)(b.Z,{className:"flex gap-1 secondary !bg-indigo-50 !font-medium !p-5",disabled:!(null===u||void 0===u?void 0:u.name)||!(null===t||void 0===t?void 0:t.inline),onClick:function(){return n(u)},children:["Next ",(0,a.jsx)(i.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})},W=function(e){var n=e.businessName,t=e.setBusinessName,r=e.chooseName,u=e.vertical,d=e.location,m=e.isGenerating,h=e.setStep,g=e.isMobile,f=(0,s.useState)({}),p=f[0],x=f[1],v=(0,s.useState)(null),y=v[0],k=v[1],w=(0,S.Z)(p),C=w.data,Z=w.isLoading;function R(){return R=(0,j.Z)((function(){var e,n,t;return(0,N.__generator)(this,(function(a){return C&&y!==C.length-1&&(null===p||void 0===p||null===(e=p.payload)||void 0===e?void 0:e.vertical)===((null===u||void 0===u?void 0:u.aiTerm)||(null===u||void 0===u?void 0:u.name))?k((function(e){return e+1})):(x({action:"business-names",payload:{location:null===d||void 0===d?void 0:d.inline,language:null!==(t=null===(n=navigator.language)||void 0===n?void 0:n.substring(0,2))&&void 0!==t?t:"en",vertical:(null===u||void 0===u?void 0:u.aiTerm)||(null===u||void 0===u?void 0:u.name),quantity:12,fromHere:1}}),k(null)),[2]}))})),R.apply(this,arguments)}return(0,s.useEffect)((function(){C&&k(0)}),[C]),(0,s.useEffect)((function(){null!==y&&t(C[y])}),[y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A,{onBack:function(){return h((function(e){return e-1}))}}),(0,a.jsxs)("div",{className:(0,c.AK)("flex gap-3",g?"flex-col":"flex-row"),children:[(0,a.jsxs)("div",{className:"w-full relative",children:[(0,a.jsx)(l.Z,{inputClassName:"w-full !pl-6 !pr-12 !py-5",placeholder:Z?"...":"Enter a business name",value:n,disabled:Z,onChange:function(e){return t(e)}}),(0,a.jsx)("div",{className:"flex absolute right-5 top-1/2 -translate-y-1/2 text-indigo-600",children:Z?(0,a.jsx)(o.Z,{variant:"icon",className:"inline w-4 h-4"}):n?(0,a.jsx)("button",{className:"flex",onClick:function(){return t("")},children:(0,a.jsx)(i.Z,{icon:"XCircleSolidIcon",className:"inline w-5 h-5 text-gray-400"})}):(0,a.jsxs)("button",{className:"flex gap-2 items-center font-medium",onClick:function(){return R.apply(this,arguments)},children:["Suggest ",(0,a.jsx)(i.Z,{icon:"BoltIcon",className:"inline w-4 h-4"})]})})]}),!!n&&(0,a.jsxs)(b.Z,{className:"flex gap-1 secondary whitespace-nowrap !bg-indigo-50 !font-medium !p-5",disabled:!n,onClick:r,loading:m,children:["Generate ",(0,a.jsx)(i.Z,{icon:"ArrowRightIcon",className:"h-4 w-4"})]})]})]})},A=function(e){var n=e.onBack;return(0,a.jsxs)("button",{className:"inline-flex items-center gap-2 link !text-white",onClick:n,children:[(0,a.jsx)(i.Z,{icon:"ArrowLeftIcon",className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-label",children:"Back"})]})},L=t(90769),E={V1:{NameChoice:function(e){var n=e.suggestedNames,t=e.chooseName;return(null===n||void 0===n?void 0:n.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"What do you want to name your business?"}),(0,a.jsx)(h,{suggestedNames:n,chooseName:t}),(0,a.jsx)(g,{chooseName:t})]}):(0,a.jsx)(f,{})},BusinessChoice:function(e){var n=e.location,t=e.suggestedVerticals,s=e.chooseVertical,l=e.setOpenChangeLocation;return n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-h5 font-bold mb-6 flex items-center flex-wrap gap-1",children:["It looks like you're in",(0,a.jsx)("u",{className:"cursor-pointer transition hover:text-indigo-600 whitespace-nowrap",onClick:function(){return l(!0)},children:n.inline}),(0,a.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h2",{className:"text-h2 font-bold mb-6",children:"Here are some great businesses to start there."}),(0,a.jsx)(u,{suggestedVerticals:(0,c.TV)((0,c.p$)(t)),chooseVertical:s,location:n})]})]}):(0,a.jsx)(m,{})}},V2:{NameChoice:function(e){var n=e.location,t=e.suggestedNames,i=e.chooseName,l=(0,s.useState)(!1),o=l[0],r=l[1],c=function(){return r(!o)};return(0,a.jsxs)("div",{className:"flex flex-col gap-6 relative",children:[(0,a.jsx)(w,{suggestedNames:t,chooseName:i,location:n,toggleSuggestions:c,showSuggestions:o}),(0,a.jsx)(k,{suggestedNames:t,chooseName:i,toggleSuggestions:c,showSuggestions:o})]})},BusinessChoice:function(e){var n=e.location,t=e.suggestedVerticals,l=e.chooseVertical,o=e.setOpenChangeLocation,r=(0,s.useState)(!1),u=r[0],d=r[1],m=function(){return d(!u)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-h5 font-bold mb-6 flex items-center flex-wrap gap-1",children:n?(0,a.jsxs)(a.Fragment,{children:["It looks like you're in",(0,a.jsx)("u",{className:"cursor-pointer transition hover:text-indigo-600 whitespace-nowrap",onClick:function(){return o(!0)},children:n.inline}),(0,a.jsx)(i.Z,{icon:"LocationMarkerIcon",className:"inline w-5 h-5"})]}):"Getting your location..."}),(0,a.jsxs)("div",{className:"flex flex-col gap-6 relative",children:[(0,a.jsx)(v,{suggestedVerticals:(0,c.TV)((0,c.p$)(t)),chooseVertical:l,location:n,toggleSuggestions:m,showSuggestions:u}),(0,a.jsx)(x,{suggestedVerticals:t,chooseVertical:l,toggleSuggestions:m,showSuggestions:u,location:n})]})]})}},V3:{Form:function(){var e=(0,s.useState)(1),n=e[0],t=e[1],i=(0,s.useState)(null),l=i[0],o=i[1],u=(0,s.useState)(""),d=u[0],m=u[1],h=(0,s.useState)(!1),g=h[0],f=h[1],p=(0,s.useState)({}),b=p[0],x=p[1],v=(0,s.useState)(!1),y=v[0],k=v[1],w=(0,s.useState)(!1),j=w[0],N=w[1],Z=(0,s.useState)(!1),S=Z[0],R=Z[1],A=(0,C.Z)({userLocationByIP:!0,askUserLocation:j}),L=A.data,E=A.set,T=A.isLoading;(0,r.useRouter)();return(0,s.useEffect)((function(){R(window.screen.width<992)}),[]),(0,s.useEffect)((function(){if((null===b||void 0===b?void 0:b.business)&&l&&L){var e=encodeURIComponent(JSON.stringify({website:b,vertical:{name:null===l||void 0===l?void 0:l.name,queryTerm:null===l||void 0===l?void 0:l.queryTerm},location:L})),n="durable.co"===window.location.host?"https://app.durable.co/website-builder/builder?building=".concat(e):"".concat(window.location.protocol,"//").concat(window.location.host,"/website-builder/builder?building=").concat(e),t=(0,c.ej)("ph_uuid");t&&(n+="&ph_id=".concat(t)),window.top.location=n}}),[b,l,L]),(0,a.jsxs)(I,{children:[y&&(0,a.jsx)(B,{setOpen:k,location:L,onSuccess:function(e){return E({inline:e})},setAskUserLocation:N,isLoadingLocation:T,isMobile:S}),(0,a.jsxs)("div",{className:(0,c.AK)("flex flex-col gap-4 relative",1!==n||y?"hidden":"block"),children:[(0,a.jsx)(_,{location:L,setIsOpenChangeLocation:k}),(0,a.jsx)(q,{vertical:l,location:L,chooseVertical:function(e){o({name:e.name,aiTerm:e.aiTerm||e.name,queryTerm:e.queryTerm||e.name}),t(2)},isMobile:S})]}),(0,a.jsx)("div",{className:(0,c.AK)("flex flex-col gap-4",2===n?"block":"hidden"),children:(0,a.jsx)(W,{businessName:d,setBusinessName:m,chooseName:function(){var e,n;f(!0),x({business:{name:d,location:null===L||void 0===L?void 0:L.inline,vertical:(null===l||void 0===l?void 0:l.aiTerm)||(null===l||void 0===l?void 0:l.name),language:null!==(n=null===(e=navigator.language)||void 0===e?void 0:e.substring(0,2))&&void 0!==n?n:"en"}})},vertical:l,location:L,isGenerating:g,setStep:t,isMobile:S})})]})},Builder:function(e){var n=e.website,t=e.setWebsite,s=e.pictures,i=e.location;return(0,a.jsx)("div",{className:"fixed top-0 left-0 w-full h-full",children:(0,a.jsx)(L.I,{website:n,setWebsite:t,pictures:s,location:i,backLink:"https://durable.co"})})}}}},73292:function(e,n,t){"use strict";var a=t(26042),s=t(33303);n.Z=function(){return{sendUserEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((null===window||void 0===window?void 0:window.dataLayer)||[]).push((0,a.Z)({event:e},n))},getAffiliateInfos:function(){var e=(0,s.ej)("rewardful.referral"),n=null;if(e)try{var t,a=null!==(t=JSON.parse(e))&&void 0!==t?t:{},i=a.id,l=a.affiliate,o=a.campaign,r=null!==l&&void 0!==l?l:{},c=r.id,u=r.token,d=null!==o&&void 0!==o?o:{};n={id:i,affiliateId:c,affiliateToken:u,campaignId:d.id,campaignName:d.name}}catch(m){}return n}}}},39828:function(){}}]);